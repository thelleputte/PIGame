<html>
   <head>
	
      <script type="text/javascript">
         /*document.getElementsByTagName("eventsource")[0].addEventListener("server-time", eventHandler, false);
			
         function eventHandler(event)
         {
            // Alert time sent by the server
            document.querySelector('#ticker').innerHTML = event.data;
         }*/
      
		var source = new EventSource("/cgi-bin/test4.cgi");
		source.onmessage = function(event) {
			//alert('something received');
			document.getElementById("sse").innerHTML += event.data + "ok" +"<br>";
		};
		source.addEventListener("message", function(e) {
			console.log("message received");
			console.log(e.data);
		}, false);

		source.addEventListener("open", function(e) {
			console.log("Connection was opened.");
		}, false);

		source.addEventListener("error", function(e) {
			console.log("Error - connection was lost.");
		}, false);
		
	  </script>
	  
		
   </head>
   <body>
	
      <div id="sse">
         
      </div>
		
      <div id="ticker" name="ticker">
         [TIME]
      </div>
		
   </body>
</html>